<h2 class="text-center">Admin Dashboard</h2>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h3>List of tests</h3>
            <p>Click on edit to edit test</p>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Test Name</th>
                        <th>Category</th>
                        <th>Action</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="tests in adminPage.list">
                        <td>{{tests.name}}</td>
                        <td>{{tests.category}}</td>
                        <td><a  ng-href="#/admin-test-edit/{{tests._id}}">Edit</td>
                         <td><a ng-click="adminPage.deleteTest(tests._id)">Delete</td>   
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <h3 class="text-center">Create Test</h3>
            <p>Create a new test</p>
            <form name="testForm" ng-submit="adminPage.createTicket(adminPage.testData)">
                <div class="form-group">
                    <input type="text" placeholder="Name" class="form-control" id="testName" ng-model="adminPage.testData.name" name="name" required>
                </div>
                <div class="form-group">

                    <input type="text" placeholder="Category" class="form-control" id="category" ng-model="adminPage.testData.category" name="category"
                        required>
                </div>
                <div class="form-group">
                    <textarea class="form-control" placeholder="Description" rows="5" id="description" ng-model="adminPage.testData.description"
                        name="description"></textarea>
                </div>
                <button type="submit" ng-disabled="testForm.$invalid" class="btn">Submit</button>
            </form>
            <div class="alert alert-danger" ng-show="adminPage.response.error">
               {{response.data.message}}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h3>List of users</h3>
            <div class="row">
                <div class="col-md-6">
                    <input type="text" class="form-control" name="search" ng-model="search" 
                id="search" placeholder="Search....">
                </div>
                <div class="col-md-6">
                     <button class="btn pull-right" ng-click="adminPage.getAll()">View All User Test Results</button>
                </div>
            </div>
                <br>
             <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Mobile</th>
                        <th>Registeration Type</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in adminPage.users | filter:search">
                        <td>{{user.firstName}} {{user.lastName}}</td>
                        <td>{{user.email}}</td>
                        <td>{{user.mobileNumber}}</td>
                        <td>{{user.provider}}</td>
                        <td><a  ng-href="#/user-performance/{{user._id}}">View Performance</td>
                       <!-- <td><a  ng-href="#/admin-test-edit/{{tests._id}}">Edit</td>-->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>